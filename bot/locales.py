from typing import Final


LOCALES: Final = {
    "ru": {
        "start_greeting": "ÐŸÑ€Ð¸Ð²ÐµÑ‚! Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ ÐºÐ½Ð¾Ð¿ÐºÐ¸ Ð½Ð¸Ð¶Ðµ.",
        "menu_title": "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ðµ",
        "menu_today": "ðŸ“… ÐŸÐ»Ð°Ð½ Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ",
        "menu_progress": "ðŸ“ˆ ÐœÐ¾Ð¹ Ð¿Ñ€Ð¾Ð³Ñ€ÐµÑÑ",
        "menu_ideas": "ðŸ’¡ Ð—Ð°Ð´ÑƒÐ¼ÐºÐ¸",
        "menu_profile": "ðŸ‘¤ ÐœÐ¾Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ",
        "menu_week": "ÐŸÐ»Ð°Ð½ Ð½ÐµÐ´ÐµÐ»Ð¸",
        "menu_done": "Ð“Ð¾Ñ‚Ð¾Ð²Ð¾",
        "menu_settings": "ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸",
        "today_empty": "ÐÐµÑ‚ Ð¿Ð»Ð°Ð½Ð° Ð½Ð° ÑÐµÐ³Ð¾Ð´Ð½Ñ",
        "week_empty": "ÐÐµÑ‚ Ð¿Ð»Ð°Ð½Ð° Ð½Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ",
        "done_ok": "Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!",
        "settings_empty": "ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ð½ÐµÐ´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹",
        "daily_reminder": "Ð¡Ð´ÐµÐ»Ð°Ð¹ Ð¾Ð´Ð¸Ð½ ÑˆÐ°Ð³",
        "evening_reminder": "ÐŸÐ¾Ð´Ð²ÐµÐ´Ð¸ Ð¸Ñ‚Ð¾Ð³ Ð´Ð½Ñ",
        "ask_phone": "ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð°",
        "share_phone": "ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ð½Ð¾Ð¼ÐµÑ€Ð¾Ð¼",
        "ask_first_name": "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¸Ð¼Ñ",
        "ask_last_name": "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ„Ð°Ð¼Ð¸Ð»Ð¸ÑŽ",
        "ask_birth_year": "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð³Ð¾Ð´ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ",
        "invalid_birth_year": "Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð³Ð¾Ð´ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ Ñ‡Ð¸ÑÐ»Ð¾Ð¼",
        "ask_gender": "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿Ð¾Ð»",
        "gender_male": "ðŸ‘¦ ÐœÐ°Ð»ÑŒÑ‡Ð¸Ðº",
        "gender_female": "ðŸ‘§ Ð”ÐµÐ²Ð¾Ñ‡ÐºÐ°",
        "profile_saved": "âœ… ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ ÑÐ¾Ñ…Ñ€Ð°Ð½Ñ‘Ð½",
        "profile_already_saved": "âœ… ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ ÑƒÐ¶Ðµ ÑÐ¾Ñ…Ñ€Ð°Ð½Ñ‘Ð½",
        "invalid_phone": "ÐÑƒÐ¶ÐµÐ½ Ð½Ð¾Ð¼ÐµÑ€ Ñ‚ÐµÐ»ÐµÑ„Ð¾Ð½Ð° Ñ‡ÐµÑ€ÐµÐ· ÐºÐ½Ð¾Ð¿ÐºÑƒ",
        "progress_choose": "Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¿ÐµÑ€Ð¸Ð¾Ð´",
        "period_week": "ðŸ—“ï¸ ÐÐµÐ´ÐµÐ»Ñ",
        "period_month": "ðŸ—“ï¸ ÐœÐµÑÑÑ†",
        "idea_prompt": "ðŸ’¡ ÐÐ°Ð¿Ð¸ÑˆÐ¸ Ð·Ð°Ð´ÑƒÐ¼ÐºÑƒ Ð¾Ð´Ð½Ð¸Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÐµÐ¼",
        "idea_saved": "âœ… Ð—Ð°Ð´ÑƒÐ¼ÐºÐ° ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð°",
        "profile_title": "ðŸ‘¤ ÐœÐ¾Ð¹ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ",
        "profile_username": "Username",
        "profile_phone": "Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½",
        "profile_name": "Ð˜Ð¼Ñ",
        "profile_birth_year": "Ð“Ð¾Ð´ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ",
        "profile_gender": "ÐŸÐ¾Ð»",
        "profile_empty": "Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ð½Ð¾",
        "profile_edit": "âœï¸ Ð˜Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ðµ",
        "profile_back": "â¬…ï¸ ÐÐ°Ð·Ð°Ð´",
        "profile_not_found": "ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ /start",
    },
    "en": {
        "start_greeting": "Hi! Use the buttons below.",
        "menu_title": "Main menu",
        "menu_today": "ðŸ“… Plan for today",
        "menu_progress": "ðŸ“ˆ My progress",
        "menu_ideas": "ðŸ’¡ Ideas",
        "menu_profile": "ðŸ‘¤ My profile",
        "menu_week": "Weekly plan",
        "menu_done": "Step done",
        "menu_settings": "Settings",
        "today_empty": "No plan for today",
        "week_empty": "No plan for this week",
        "done_ok": "Nice! Step marked.",
        "settings_empty": "Settings are unavailable",
        "daily_reminder": "Make one step",
        "evening_reminder": "Summarize your day",
        "ask_phone": "Send your phone number",
        "share_phone": "Share phone number",
        "ask_first_name": "Enter first name",
        "ask_last_name": "Enter last name",
        "ask_birth_year": "Enter birth year",
        "invalid_birth_year": "Please enter birth year as a number",
        "ask_gender": "Select gender",
        "gender_male": "Boy",
        "gender_female": "Girl",
        "profile_saved": "Profile saved",
        "profile_already_saved": "Profile already saved",
        "invalid_phone": "Send phone number using the button",
        "progress_choose": "Choose a period",
        "period_week": "ðŸ—“ï¸ Week",
        "period_month": "ðŸ—“ï¸ Month",
        "idea_prompt": "ðŸ’¡ Send your idea in one message",
        "idea_saved": "âœ… Idea saved",
        "profile_title": "ðŸ‘¤ My profile",
        "profile_username": "Username",
        "profile_phone": "Phone",
        "profile_name": "Name",
        "profile_birth_year": "Birth year",
        "profile_gender": "Gender",
        "profile_empty": "not set",
        "profile_edit": "âœï¸ Edit data",
        "profile_back": "â¬…ï¸ Back",
        "profile_not_found": "Profile not found. Use /start",
    },
}


def get_lang(language_code: str | None) -> str:
    if not language_code:
        return "ru"
    base = language_code.split("-", 1)[0].lower()
    return base if base in LOCALES else "ru"


def t(key: str, language_code: str | None) -> str:
    lang = get_lang(language_code)
    return LOCALES[lang].get(key, LOCALES["ru"].get(key, key))
